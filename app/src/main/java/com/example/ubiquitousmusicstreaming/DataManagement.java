package com.example.ubiquitousmusicstreaming;


import android.net.wifi.ScanResult;

import java.util.Arrays;
import java.util.List;

public class DataManagement {
    private static double[] bh;
    private static double[] bo;
    private static double[][] wh;
    private static double[][] wo;
    private static String[] distinctBSSID;
    public DataManagement() {
        /*
        bh = new double[] { 1.7335259,   0.72367086, -0.61397198,  0.90153316};
        bo = new double[] { 3.65524482, -2.44979438, -1.07339047};
        wh = new double[][] {
                { 2.07364448e+00, -1.35972346e+00, -8.87328500e+00,  2.28344152e+00},
                { 1.36449411e+00, 5.85102800e+00 , 7.61004904e+00 , 1.42971061e+00},
                { 1.12581836e+00, 1.74862107e+01 , 6.86246881e+00 , 2.07504991e-01},
                { 2.61720603e+00, -6.21403803e+00,  6.61195772e+00,  2.86903927e-01},
                { 1.27283404e+00, -5.57040266e+00,  4.42725635e+00, -4.35081454e-01},
                { 4.62282781e+00, -9.71591526e-02,  3.98579663e+00, -9.64330066e-01},
                { 7.35318132e-01, -6.21423392e-01,  4.02991966e-02,  1.37060102e+00},
                { 1.77640978e+00, -6.04039842e+00,  6.59789942e-01,  2.91640824e+00},
                { 1.34396949e+00,  3.00320066e+00,  1.65408450e+01, -1.32945376e+00},
                { 8.61255478e-01,  1.38152687e+00, -4.40906344e+00,  6.88159861e-01},
                { 1.73229810e+00,  2.15682822e-01, -8.56251977e+00,  3.60211090e-01},
                { 1.79266895e-01,  3.56762648e+00, 1.45024858e+00 , 1.21801546e+00},
                { 2.10879142e+00, -4.89432309e-01,  2.60607303e+00, -3.85451088e-01},
                {-6.90178575e-01,  6.44805673e-01, -5.96941738e+00,  1.00347059e+00},
                {-1.03385278e+00, -5.07601298e-01, -5.62923800e+00,  1.96240737e+00},
                { 1.92414155e+00, -6.67200336e+00, -1.13688022e+01,  1.05657149e-01},
                { 8.95723942e-01,  1.66472440e+00,  4.62994706e+00,  9.19270954e-01},
                { 4.37724861e-01,  3.41131860e+00,  4.87496370e+00,  1.44704232e+00},
                { 6.35257031e-01,  2.92846001e+00,  1.07108687e+01,  7.10875582e-01},
                { 5.76659751e-01,  3.34415591e+00,  8.19623308e+00, -2.07746141e+00},
                { 3.02501310e-01,  2.05684987e+00, 4.83887224e+00 ,-5.91752963e-01},
                {-7.25041060e-01,  4.61478311e-01,  2.14516583e+00,  3.15198070e-01},
                {-2.16195729e-01,  7.08500516e+00,  7.87640267e+00,  9.12664573e-01},
                {-9.44721536e-01, -1.01490938e+00, -2.51869655e+00, -9.22259049e-01},
                { 6.48516472e-01,  1.52033828e+00,  5.18233496e+00, -3.20169002e-01},
                {-1.32383829e+00,  9.07763670e-01,  1.51609690e+00, -8.12930295e-01},
                { 3.42465256e-01,  1.07668919e+00, -3.66230809e+00,  3.36241569e-01},
                { 2.49568758e-01, -6.92009452e-02, -1.91877121e+00, -2.65138754e-02},
                { 1.58907129e-01,  2.80236601e+00, -4.60484871e-02, 2.85947646e-01},
                {-2.13513177e-01,  2.97050469e-01, -4.50547031e-03,  7.45874069e-01},
                { 7.69411306e-01, -1.26145288e+00,  2.21383209e-01, -1.36276001e+00},
                { 5.48136210e-01, -1.01778490e+00, -9.02509508e+00, -3.31994386e-01},
                { 5.28981957e-01, -2.66355337e+00, -3.97755620e+00,  5.71736519e-02},
                {-1.13603963e+00, -4.29555558e-01, -2.01831267e+00,  1.65487236e+00},
                {-8.37189403e-01, -2.06524545e+00, -8.65797041e+00, -1.12534129e+00},
                { 1.97987071e-01,  1.51460575e+00, -1.61561633e+00,  1.84192227e-01},
                { 3.02779001e-01,  1.60622777e+00, -1.13042253e+00, -1.32308534e+00},
                { 5.53178616e-01,  3.82801683e-01,  4.52415632e-01,  3.43492804e-01},
                {-6.80024722e-01,  2.32253882e-01,  2.93072473e-01, -7.14351418e-01},
                { 1.82848283e+00,  5.91156815e-01,  2.60682524e+00, 6.56467973e-01},
                {-9.74681275e-01, 8.21017324e-01 , 1.15859558e+00, -8.21120092e-01},
                { 9.63376129e-01,  4.12780927e-01,  8.22079145e-01,  1.89679298e+00},
                {-2.45388116e-01, -7.53736164e-01, -8.89514430e-01, -8.15810285e-01},
                {-7.71017094e-02,  3.47642565e-01,  3.17505619e-01,  8.27183249e-01},
                { 1.30018919e-02,  1.45353408e+00, -2.63119846e-01,  2.72016917e+00},
                { 6.75680162e-01, -6.03009385e-01, -9.36881242e-01,  4.81869621e-01},
                {-2.23462847e-01,  7.20140802e-01,  4.90244730e-01, -7.28371257e-02},
                {-8.46793718e-01, -1.51484722e+00, -4.46514952e-01,  8.56398794e-01},
                { 2.73632025e-01, -1.24573878e+00,  1.73180926e-01,  3.84794413e-01},
                {-8.21647792e-01,  1.18336370e+00, -6.23283214e+00, -9.61292652e-01},
                { 7.19118345e-01, -3.96655571e+00,  7.68332663e+00,  1.06089601e+00},
                {-1.37766937e+00, -9.36359347e-01,  5.24185353e-01,  5.13785951e-01},
                { 5.14546283e-01,  2.66109465e+00,  4.76548020e-01,  1.25068998e+00},
                { 9.54001763e-01,  6.46873977e-01, -3.16474291e-01,  7.58969220e-01},
                {-7.72825215e-01, -2.41335881e-01, -4.86568594e-01,  8.18741394e-02},
                { 2.34791222e+00, 5.15538564e-01 ,-3.68050005e+00 ,-1.62423002e+00},
                {-4.71931866e-01, 9.33777812e-01 , 2.87397592e-02 ,-1.07774478e+00},
                {-7.15303709e-01,  6.79597749e-01, -7.30366632e-01,  2.16458590e-01},
                { 4.55718399e-02, -6.17088622e-01,  2.18094896e+00,  6.33919022e-01},
                {-2.02516268e+00,  1.86399916e-01, -6.64121197e-01,  8.52433415e-01},
                {-7.92520738e-01, -9.77945092e-02,  5.09580101e-01,  8.65767162e-01},
                {-1.15343385e+00, -4.18714464e-01, -1.85593627e-01, -6.53329233e-01}};

        wo = new double[][]{
                {-0.92824327,  2.04209505,  0.52139972},
                {-5.9203737 ,  2.77190488,  3.22347643},
                {-3.7586316 ,  4.77334112, -0.72318651},
                {-0.26959532, -1.91634676, -2.13923825}};

        distinctBSSID = new String[]{"f0:87:56:19:1a:11", "f2:87:56:99:1a:11", "f0:87:56:19:1a:12", "30:93:bc:b0:01:1c", "50:e0:39:70:e3:b1", "d8:d7:75:ed:03:9a", "e2:24:c8:36:d8:5d", "30:93:bc:b0:01:1d", "d8:d7:75:ed:03:9b", "88:41:fc:c6:40:72", "b8:d9:4d:67:05:76", "6c:ba:b8:ee:06:d3", "28:9e:fc:08:d3:9a", "f4:6b:ef:d6:86:14", "88:41:fc:c6:40:2a", "50:e0:39:70:e3:b2", "e2:24:c8:36:d8:65", "e2:24:c8:36:d8:61", "b0:bb:e5:ff:d0:a6", "30:93:bc:af:88:e8", "a4:08:f5:1f:09:3b", "00:1e:80:78:f3:f8", "24:7f:20:01:20:56", "52:e0:39:70:e3:b2", "44:e9:dd:92:3a:e6", "b8:d9:4d:64:54:d3", "b8:d9:4d:67:05:77", "44:ad:b1:2c:70:7c", "00:1d:73:8e:ec:4a", "86:25:19:77:df:e2", "88:41:fc:c6:40:73", "58:90:43:54:6f:ba", "ac:3b:77:a3:46:0e", "98:42:65:5c:d9:b6", "88:41:fc:c6:40:2b", "3c:7c:3f:e6:1f:e8", "d8:d7:75:eb:d5:e4", "4c:19:5d:cd:58:ff", "08:3e:5d:48:fd:86", "ac:3b:77:a3:46:0f", "44:e9:dd:92:3a:ea", "00:1e:80:3f:2e:74", "12:98:c3:4c:7b:72", "fa:8f:ca:63:8f:92", "00:1e:80:a4:0e:04", "00:cb:51:62:a8:92", "f4:17:b8:42:b3:49", "6c:ba:b8:ee:06:d4", "44:d4:53:3e:79:b6", "f4:17:b8:69:b4:5a", "fa:8f:ca:72:42:64", "fa:8f:ca:53:90:7c", "f4:17:b8:69:b4:56", "dc:8d:8a:b2:b8:6a", "62:8d:8a:b2:b8:6d", "fa:8f:ca:8e:04:53", "ee:5c:84:e1:37:38", "3c:52:82:fc:1d:cf", "34:49:5b:89:06:a1", "d0:6d:c9:d2:a7:f6", "3a:ce:7b:7f:a0:c7", "44:d4:54:6d:ef:19"};
        */

        bh = new double[] {0.5559440277504917, 0.07627394591562875, 0.5323290388888507, -0.9353323605086877, 0.17372759413727962, -1.4068705328612994, -0.11339745796097271, -0.9039632522153898, -0.7370358745645117, 1.2348114415028304, 1.0917089522506047, 0.6073527597364815, -1.0916270658428897, -0.3161098437421568, 1.213919977342465, 0.1410359361646524, 2.319083269780697, 0.39265393611700905, 0.1895140519373846, -0.3091164642025014, 0.1307690831980461, -0.15479616237254318, 0.7087588323595592, 0.9566848756232732, -0.7862722625386895, -1.3326054823319544, -1.8384795468719817, 0.6200733383091668, -1.1026442927657512, -2.152890592952483};
        bo = new double[] {3.8674854867691684, 3.340001473849767, -4.860164284159864};
        wh = new double[][] {{0.48913394934786947, -0.13183313248352505, 0.9101178508020895, 1.5451366573911105, -0.2147643065518454, -0.775773670672974, 1.589675663628636, 0.730825292758796, -0.6429845697356706, 0.7254234169021451, -0.43850333346501735, -0.4658988459500821, 0.1633736596383397, -1.9132802446539336, -1.6697529665729585, -0.3995050577622355, -0.9895026782893926, 0.5329139161783557, -0.9590500713414074, -1.4123037013352915, 1.7147588373886564, -0.1517615337982818, 0.06751903209453806, -1.423161039611105, -0.5443816816017983, 0.19535906055210187, -1.371023470115137, 0.4190573890785503, -0.6278751951145304, -0.2916937497932768}, {-0.3789979628104921, 1.8570131810599733, -0.0038374418012811534, -0.9857560706729711, 0.8521735113980543, -1.014238746019689, 0.358300893955066, -1.93532116796168, -1.2546869907701226, 0.22680972854076378, 0.760089708920395, 0.2758553852403017, -0.13964400139554622, -0.3118869975716879, -1.5008516906715805, -0.7074893616348714, -0.45751212797173824, 1.0619461461141646, 0.35726552644897, -1.763040155362734, 0.5077222463456201, -0.6528683607192174, -0.7053123481123716, 0.6125657885851059, 1.0534489391818331, 1.0561285581433943, -0.7102201212583159, 0.19314521712622512, 0.33803500418884824, 0.9755451271223592}, {-0.3231012141311739, -0.22331870332551848, -1.092492989080807, -1.2609139762446568, 0.5487080552250613, 1.1272268130586502, -0.14516568455869586, 1.1581618907496436, 0.3783460684292681, -0.6045755060551788, 0.35597236308340935, 1.63937351157028, -0.0674682465712773, 1.5465899462112571, -2.638795770431663, 0.8228526372168323, 0.09969302958903076, -0.24213759669011944, 0.1483735356553859, -1.9875689146008928, -0.013573973152305208, 0.15400809466595283, 1.4504132219113866, -0.5174330420438167, -0.7939560002186071, -0.5036508995867455, 1.0083421495533917, 1.33774848261323, -0.521581099656038, 0.5132674331133561}, {0.30553127599616514, 0.9761541134382785, -0.730000884550454, -0.4700524658286352, -0.6041068170339958, -1.631945340637017, 0.210713402755395, 0.20053445634255812, -0.05002332213164605, -0.18511965226558136, -1.4147166974477203, -0.29691980189934264, -0.3810357999947599, -0.8130818158127322, -0.2057822666287586, 0.4322347194150466, 1.9392782074229438, 0.18477345987233249, 0.34472208095273055, -0.07444591576616721, -1.562421584138172, -0.17012947600864184, 0.021566293494620366, 2.4643932298006765, -0.17763640266867028, 0.38539566556536226, 0.14371822336874607, -0.5366362524781901, 1.157301838470574, 0.7519330326867741}, {0.9518767158836091, -0.9217565282367426, 1.1471631938065205, -1.4516684302084526, 0.7064308312150254, 2.0873055004147787, -1.001887852057473, -0.6384475015339982, 0.289659430870421, -0.5158619150617169, -1.5578066999462838, 0.18176605733565648, -1.090083751462648, 0.4626948085541441, -0.9552465131038277, 1.5884813965107192, -0.8736747152070315, -0.3015381486670515, 0.9477455012333916, -1.2308643164339552, 0.4009293906673584, 1.1302318502048299, -1.6423313637085286, 0.18573265233413655, 0.2784532086335044, 0.7317156043883372, -1.0895238392156867, -0.5166547224120746, 0.5412254503733998, 0.29698467323318606}, {0.21387985735255338, 0.34458087485665856, -0.5306604046874459, 0.24131967054325068, 0.09903663095914461, -1.0519014285493244, 2.0333862113931147, 0.4546275769979769, -0.9198363740012064, 0.7604468934393975, -0.9429554637004463, 0.9481469078694006, 1.0929611338809764, -0.922531587673083, 0.890835542296833, 0.486477002916904, 1.0233397217432922, 1.7470625387084708, 0.15708135345883337, -0.7537361643574896, -0.8575438548183699, -1.0104698952777944, -0.12694367264801576, 0.3423379744757013, 0.2626984686324129, 0.95680803437011, 0.19426779880311282, 2.9061790424872047, -0.26167783687691737, 2.720169166589619}, {0.8501112249660473, -0.8511396689768979, -1.0522847612246184, 0.5407626475923017, -0.20095948636924152, 0.9280972198077426, 0.6150344058416418, -0.0410923454062079, -0.7739157190041014, -1.4780447223408875, -0.4259028961899346, 0.9591160475835523, 0.19096163624297424, -1.2577350870013289, 0.15117684300122003, 0.39671369099244336, -0.8955619458921638, 0.15498788639918237, 0.06812402827738193, -1.142970297830623, 0.5168453978516474, 0.25680157044089386, 1.0553109524209716, 1.0546741106074964, -1.357677621478597, -0.809913354064791, 0.6346217087460253, 1.0123747464105817, 0.5223286548791767, 3.852731490654721}, {0.8216020255377436, 1.241296185926114, 0.6863814229905137, 0.8226960797346679, -0.0076780799346769565, 1.010148461840585, -0.7026424560315836, -0.5133998335688362, -0.1527912580984826, 0.037847889319699256, 2.3274583738071613, -1.7296405452598156, 0.6439432454903866, -1.6363419376791792, -0.5163578688137062, 1.0991941344935638, 0.06527135905069797, -1.0648049695633264, -0.5396331367354941, 0.6795977489346758, -0.6597970116861145, 0.05431726323531905, 0.0045242428233847045, -0.6504492302897211, 2.085164215720588, 0.7399151874222801, -1.879238183739208, -1.2758047487255924, -0.6430147804137795, 0.852433334796224}, {-0.6027301707967966, -0.18319254389043055, 0.5507105728921384, 1.2681862119493996, -1.3060675639013068, -0.7005133673399239, -0.24470698662123336, -0.6579244882910914, 1.8929391845012478, 0.41200081308145614, -1.2934442758517932, 1.0636963103789758, 2.1363891802429995, 1.014288239504357, -1.5456783346063527, -0.5127867906476482, 1.3892095299555203, -0.6580344968303946, 0.7184715180533201, 0.7746340534293368, -0.7913298865763473, 0.04548449879822888, -3.241262797247883, -1.0228528182462755, -0.23615850950367906, -1.1532628858310756, 1.7763268027260035, -2.4927583611296247, -0.42673796050213364, 0.13074057728609134}, {1.420731567204248, -1.4691970105286876, 1.5822024113654, 0.5237286663870104, -1.0066955934887574, 0.36065525775493307, 0.1662531066853008, -0.6024900789614958, 0.09622417539696972, -0.40316718974945265, 0.27904583886837014, 0.7661855683388015, 1.586016816145352, -1.2566155226123972, 2.034796051477935, -1.874561156941302, -0.09052634105674075, 0.636631692564717, 0.2950099153773462, -0.6226995198205938, 0.035825849081029995, -0.5503701408806403, -0.6451339573839523, 0.8496020970210246, 0.32457324421423595, -0.5763571892022477, 0.9338448734430326, -0.04299285543301266, 0.6166471689565359, 0.6296288419236122}, {-0.6825763506665965, -0.2686277620007138, 1.2023564757450476, 0.33122730205307827, -0.3016362585839474, 0.2981789452308691, 1.259844164373958, -0.5821301111076782, 0.537031085588055, -0.41181379421246944, -0.17732162764867843, 1.0969291887741295, 0.8254163489880298, 0.8579385722112413, 1.2749883832053337, 0.13247449621906907, 0.6634636081821588, -0.39901693465355, 0.03452653632174098, -0.13014305436768459, 0.3983812913874645, 0.8773146604692342, -0.8182206832341655, 2.0923872756854602, -1.0786518930561713, -1.3974350036164829, 1.147337654266955, 1.1428895331396176, 0.5400810603379246, 0.6283455092642799}, {0.2914498925698533, -0.7450179340165662, 0.53774084190747, -0.525345342551132, 1.053460185991796, -0.21114145884165422, -0.9645005449396213, -0.3124871280220941, 0.6728579385769874, -0.48635952427624324, -0.7974025177089882, 0.35431667813097256, 0.24496657110872277, -0.5255876683621611, -0.42346472995615786, 0.19470668211560982, -1.3123553041918357, -1.5695834114006437, -0.5055486869742757, -0.21344715171184725, 0.2058767394129877, 1.4532597499997997, 0.8576646442139424, -0.1599385299634271, -0.11152987021058064, -0.9316328761663105, 0.1275087610314276, 0.1881939045510227, 0.29393017126282467, -0.827230943552323}, {0.54815656884254, 1.5279669878928785, -0.12539735843792155, 0.39220865374288794, 0.6819039863118311, -0.2398861809305132, -0.020719635062551183, 0.021221364821903777, 0.10507196857354417, -0.7730097841999503, 0.04523724588407274, 0.48551869212781656, 1.4511436077950417, 0.9593620498253248, 2.1866575108857704, -0.8011120899652908, 0.4541493530177292, 0.2025512861590369, 2.116790530737158, -0.8082982853551515, -0.7571645638053812, -0.6276267394006667, -2.123895724309807, -0.525755021680761, -0.76910484100326, 0.064387795405934, 0.2608471147850818, 2.0419569148815184, 0.9504238381860503, -0.5769036556624031}, {-0.7102820152230969, 0.6438169182446637, -1.4473110140463177, 1.9592887982534908, 1.2325843435173027, -0.5365039533778241, -1.3389375781596748, 1.3767743709618434, 0.042144533003160636, 1.1439685234864159, -1.513011491146113, -0.4938335432808145, 0.005243699718183166, 0.04466310263077496, -0.4435584408009026, 0.6326213768747488, -0.8709328378599582, -0.11945763646340811, 0.09384076058698165, 0.514438834058749, 0.6562131894703935, -1.208144719007446, -1.5341093290458183, 1.277676821898509, 0.36225162754504053, -0.6005406717843614, 1.4997181676292148, -0.10937592390026428, 1.1080469144863305, 0.06751848141010895}, {2.077788200865975, 1.755340785520997, -0.18469190973509764, 0.9482854705599585, 0.5013766415635034, 1.5563763095633232, -1.2317746114591026, 0.6947821838898333, 1.0972071712887286, -1.762502306962827, -1.1640991597931658, -1.8596199590714346, -0.26940683444455776, 0.7124389274368069, 1.5050271552144396, 0.07409478041977519, 1.6102181150592343, -1.445594192690996, -1.722051570836399, -0.05554769889661878, 0.4130495187317306, -0.03610053261174636, -2.0674421000398766, -0.08912003951278841, -1.3044695005048532, 0.8680299508002364, 0.33684440169602753, -1.1367111373994636, -0.5138669173366935, -1.0592135218889516}, {0.1129063182988453, 0.9709876979981626, -1.206350197057096, 0.5858820898719524, -0.589348712517549, -0.13839874502055455, -0.3295129401707377, -1.0385244638946878, -0.38157280182864456, -1.167710684947383, 1.9733705528721655, 0.2067856088541156, -0.7637253121091094, 0.2036193497254375, -0.08712849162809055, -0.2265817013107398, 0.35693924408809535, 0.7328902715145407, -0.8210244179979299, -0.57581824064468, 0.1832779717446528, -2.2921519240632846, -1.5151859216387984, 1.3668742674445247, 1.7374114897440494, -0.21059069249095227, 0.16870508193649378, 0.31967892533044895, 3.0788808084552377, 1.1195749114345768}, {-0.1526480279982078, -0.9354857474604722, -1.0839919511871954, 0.3245764121972663, -0.7877637112357532, -1.090415854015396, -0.7241265368180823, -1.0944583985995706, 1.700169519113373, 0.8692751161412283, 0.043494809886752944, 1.4676210336891176, 0.09266876462032578, -0.8654444824183771, 1.5506253266647674, 0.5653440328101493, -1.0499719632146676, -0.13351396150099198, -1.046650843587953, -1.382799730964336, 1.170832527934943, 1.9138336065500698, -1.4141526509307847, 0.5629692366905709, -0.5808288495378495, -0.5340035343287416, -0.6711629514889671, -0.8217379063205504, -0.03369052560906084, -0.8309501164110378}, {0.2704568257798388, -0.05023810944913695, -0.2389430189783947, -0.9075636620415979, -0.5767713305683327, 0.755391225825756, 0.5009171876243808, -0.977555244798551, 0.10611599155908676, 0.7513871208165711, -1.6694052811213718, 0.543360192379935, -0.6626237589458467, 0.5705986685931593, -0.7632591565425169, -1.804894416314449, -1.5874606778908453, 0.048084946661381994, 0.25972250172148187, -0.9043166251044086, 0.5863763442357427, -1.6615200622689599, -0.06607979864731657, -1.2110161997624567, -0.6518361078028455, 0.047398671316414016, -0.8604133652839524, -0.3845555442297506, 1.0062928092144405, -0.5768918695231487}, {0.7391602185207694, -1.0615826708930327, 0.7319670755710206, 1.503125350843981, -2.5465455420407492, -0.9719829868763242, 0.50913758485099, -0.21570455823312562, 0.5591190664014041, -0.4773952714189276, -0.12187147690595684, -0.1629349548478397, 1.1677820616598074, 0.1725955731219911, 0.28019493714092375, -0.5579409555880243, -0.4372243390053559, -0.4330819565867001, 0.37105367159707053, -0.42098448082026296, 0.5252573646720871, 2.082308680237178, 0.8133171453794343, -0.32602353216784113, 1.269262382612022, -0.4201612354127859, -2.02877680028185, -0.9905886439984639, -2.0510579430483147, -0.35151348404130867}, {0.03449820470346047, 1.7000522065756924, 0.30904691567986714, -0.1548249850620321, 0.6001737180833167, -2.2129676097191355, 0.20917601150555862, 0.7486857014691177, -1.4467204062366081, 1.1871756846026214, 0.3377618608155045, -0.4164235091934834, 0.6327818661062848, 2.2532034516933046, 0.18168025743101568, 0.23300111637353066, -0.5135684001215641, -0.7876850047084987, 0.8183170606439503, -0.8560838259088672, 0.1357205556157804, -0.32325349913787865, 0.4789798257454819, 0.3336621052869483, 1.0375399442578992, -0.48096988465636115, -0.22971523724556236, -1.0623601525101392, -0.4471466066027547, 0.3773004930448522}, {0.7557910650896371, -0.8734144071717423, 1.115277148031141, 1.3719858203885642, 0.4023695208046911, 1.6861522846649526, -0.8114183416770573, -1.244654703311417, -1.8655151152296474, 1.5288863803123425, 0.6146580625297992, -0.06329562782551569, 0.2799686263198203, -1.1255308448979546, 2.4659318156386663, 0.12922272288754286, 0.16417694705981598, 0.7257666238986992, 0.5405499201449666, 0.22388402427913137, -0.8774001723627869, 0.43369999157102795, 1.8666075625540965, 1.3454200461549777, 1.593186626639397, -0.4702400921795275, -0.9841597447731685, -0.2402078876135034, 0.007708768582956919, 1.0941915184709485}, {-1.7429495147656267, 1.5625358052705474, 0.010088848513946305, -0.16390331698393462, -1.0121043756539096, -1.614231568320754, 0.8167470349612127, 0.07331460707701912, -1.2924766018486473, -1.2811309878127917, -0.3219272008584746, 1.669021525289393, -0.2595913513636048, -1.5031429531181062, -0.24565912491955968, -0.2603515127903825, -2.862976005471001, -0.018241034991181217, -0.33482861187484475, 0.6962063648134184, 1.849039131981913, 1.1552089147222104, -0.32686912260638457, -1.1065259087416703, 2.5733598032498604, 0.09754583226569688, -0.023714901811385383, -0.27927516313130035, 0.15811641423195869, -0.14436041192394247}, {-0.6159994434594512, -0.5468589412403921, 0.04991489560927032, -0.3961921882994632, -0.6845777901206846, 0.10342129235033913, -0.19264430418413206, 1.5039575224305977, -2.6506303266413354, 1.1361311926044946, 1.2093524361562504, -2.0821255740710978, -0.34268759408034877, -0.3714826635951848, -1.4154334433499376, -0.7311585534451738, -1.1105758476118848, 1.7522704434236227, 0.9356783933900371, 1.2715550949941588, 0.7688706649658339, -1.139265098848921, -0.5245202662797737, 0.48937456122791806, -1.1535678206416702, 0.7118799216594897, -0.22622460094859057, -0.37254311400763795, 0.6415461433653599, 0.44426331148603976}, {-0.357410258124134, 1.1593341235410506, -1.080983090666412, 0.6159356069442637, 0.5998063210604094, -0.19742491096607837, 0.32160812249683035, -1.2419770262420005, 0.9813894007066405, -0.18490213644298903, -0.5227230205190395, 1.0483995296521516, -0.7043436905427592, -1.4084612963635597, -1.5518794189976775, 0.606009591192857, -1.3114347849089574, 1.755635116787942, -2.1598941998161774, 1.6964563682900382, 0.24858758245040438, -0.07732626910614325, -0.5449190868089497, 0.39913611435207086, -0.037634702424848364, 1.0884182036541403, 0.11422764867173937, 0.15073213595122845, -0.36361221221385587, -0.056945623721067457}, {0.3113832154947111, -1.7101639857653077, -1.348104252184628, 0.7432641293093063, 0.177634916327387, -0.07188406691068835, 0.013958217012986728, 0.3566167382972082, -0.48175224299780917, -0.7783047254023127, 0.2005252076428452, -0.978982473799744, 0.40825275571447184, -1.7025836042378404, 1.0339565279234229, 0.47259711812047667, 0.23215058523557552, 0.983538516266312, 1.5698101638440274, 1.0143700650181304, -1.8033819553508568, -1.2602311901124599, -0.6248185776956788, 0.026091050210833786, 0.517659020469123, -0.7977893440120701, 0.186766764486734, -0.7549572174826481, -0.6115178029919482, -1.4066610968482223}, {-0.9232332461109043, -1.3516846056163336, -0.8387256675272223, 1.0536417966078395, -0.949398888831943, 2.6730072313724964, 0.589188666718676, 0.1848361236948739, -0.8544051767178005, 0.7636557392516738, -0.5756378262377739, 0.12200981464536144, 2.5600845382687947, -0.09605989972464987, 1.1492733262856758, -0.6909847935940269, -0.03498849049376442, 1.7610803489896054, -0.6272446199241087, 1.8124485579969287, 0.6853773926095991, -0.5624667758942676, 0.632407739055521, 0.9725544496267299, 0.6218099622171964, -1.5702247198904564, -0.7226778863612678, -0.24751863555097686, -0.10354895896025586, 0.620672097550678}, {0.18095643921341711, -1.3443651810168156, 0.3443744404246997, 0.6105857452838231, 0.578595433224448, 1.1094219042975222, 0.8339221545463484, 0.4591292333591836, 0.02493575081063272, -1.6779244720715296, 0.42872487344477184, 0.2077274572149451, 0.27157883719537346, -1.2767485758203094, -1.0799781324957856, 1.0531528533329035, -0.04985284091397276, 0.6556773580068629, 0.0164787332761264, 0.02975613949574519, 1.0153346836194566, -0.5711598362406747, 0.09612077694098337, -0.4622752887050425, -0.41194366022234413, -0.28842656939848504, 0.2823821815752492, -0.44353927390635606, 1.2554473046319636, -0.8946073022195039}, {-0.1838426977158821, -0.4397310582742642, 1.4469778843536851, 0.19655477651157463, 1.0386828546900821, -1.4435410999075482, 0.26705026586925884, 0.8986658285425023, 0.13954434738175453, 1.0654803750653512, -0.5172884501003722, 1.4093474401835469, 2.2988981236192503, -0.36283856043965906, -0.44550247053238123, 1.453384477117701, 1.5492572351479155, -0.5225960431635145, -0.42018709080014577, -0.2817846088605072, -1.309822392244851, -0.8985183905100519, -1.0041407667520679, -0.7677975651041284, -0.03468488738678118, 0.21899658949179743, 1.5505004928144732, -0.9983413772920671, 0.9843223984765838, -0.21398884422550896}, {-0.0457855136948683, 0.6748150131085825, -1.162313991891262, 0.3824097461840506, 0.1994385926152621, 0.6141145923659411, 0.26081492898141423, 2.46509913835555, -0.5792679326160746, -0.5345885585195332, -0.5999028670941965, -0.569120035392432, -0.6373871273065177, 1.189116246661202, 1.457126912769724, -0.5707466746007109, -0.845348606244256, 0.47291125150761065, -0.6739280046163595, 0.6329318177555108, 0.25915151660154445, -1.5014855207838367, 1.5475104016637975, 1.7958776730955217, -0.6127886904843862, -0.40325416766300287, 0.2858675035762601, 0.3477179744045124, 0.6585442726728304, 2.0102045387663496}, {-0.17404245427585047, -0.7982972445387869, -1.4198213585808206, -0.7261878497347075, -0.017938093602643534, 1.904981040974525, -0.5871897016871418, 0.23315078147184515, -0.499485308025348, 1.185005738310687, 2.5835673736341547, -0.5431894610406177, -0.48943944251822213, 1.044255362841749, 0.7127122626128702, 1.8467073257360336, 0.5407385553127615, -0.3587143372749748, 0.46678370819553733, 1.1087035805829077, 1.1351355088756356, 0.475654918816767, 1.0666795910528974, 1.1692955904456728, 1.3821589910375272, 0.6335042796963812, -0.16711608751425527, 0.19138123158404868, 1.2065089665083568, -0.8169356709872361}, {0.38679415352769975, -0.4023639069462282, -0.015036918329054372, 1.2784518626072987, 0.22176724138180856, 0.15285311732781934, -1.4731555701843344, 0.7556311564387732, 0.6638986094681196, 2.142650792138942, -0.2691337459216343, 0.2061060545345148, 0.24938368371075526, 1.5093570034899082, -0.029449691914564393, 0.26114447684585157, 0.5363703412933807, 0.18804961302564147, -0.6457491871520541, 0.19408999289830758, 1.152495467870559, -1.1641784100108807, 0.13297475493271607, -0.7001208149391732, 1.1950466289248425, -1.6106982507590195, -0.5817619901678873, 0.34532101518397024, 1.5655240292343404, -0.0657502610729878}, {-0.5503188515216442, 1.8721362592315736, -1.4778557861605486, -2.073585487942883, 0.49551646475277794, -0.488521474018291, -1.0256049428190994, 0.7083562140813606, 0.2557125590558283, -0.5810421692922416, -1.2803043986708944, 0.8724573282801447, 0.650201177958661, -0.09917586377938291, 1.8528374277921382, -1.121001470373215, -1.5516008294158348, -0.6913274876640267, -0.1696999755219306, 0.24333944932269183, -0.23596618775251318, 0.28952591236317277, -1.251539424190444, 1.4437646040732595, -0.06060094750303591, 1.0277955913861556, 0.3427253463777039, 0.4953277279431937, 0.5697672802322039, 0.44770856001731496}, {0.6427227598675439, 1.3291525301324314, 0.19652116970147013, 0.7090037575885123, -0.09215986287762495, 1.4401172154494728, -0.6763923020592697, 1.8009404329108156, -0.04015795064434341, -1.4307751021180481, 0.12810441491078928, -0.6810516574748808, 0.8406435489887241, -0.6526239793023909, -0.4461834332147797, -1.889540730945531, -0.4523062310721365, -2.4238793266289567, -1.5839028234857233, 0.7604146561442974, 0.785800261445818, 0.42545756178496474, -0.966976143129213, -0.047711356141979855, -0.0036025390905684044, -1.1583646891925428, 1.5033983017671506, 0.8773622905756714, -0.22096417382966393, 0.02688583899453078}, {0.2809688322410062, -2.046616493009395, -0.26404397431293847, -0.6880969122297963, -0.9635376277799138, -0.25039083749972263, 1.7085206815347345, 0.6412866243350435, -0.559873936091466, 0.5691464956451339, 1.4312667090784752, 0.9246249024420873, 0.05963036992017413, -0.6520401003908932, 0.7520573973964185, 0.3758118449334711, 0.8953988549826448, 0.6096833863106699, 0.8071472398083194, -0.535235211560568, 1.3202725506089568, 0.08097276614667, 2.075265953411939, -0.6891878180895679, 1.7359638031652493, 0.05566581156029497, -0.7589101836198853, -0.451756107788459, -0.32034730819432017, 0.4241659464019164}, {0.5228354880354996, -0.573700003938579, -0.06258132223370315, 2.1422703586118637, 1.7275431701007113, 0.4375401912137752, 0.020365832248103604, 0.1200313267182613, 0.613473774547648, -1.0227925651984056, -0.2510100644917028, -1.6685840738776712, 0.39922312260527926, 0.647195939702741, -0.4700894083136941, 1.5739867632900328, -1.2257656630023412, -1.4637917385672181, 0.1900419161885634, 1.0470983026121545, 1.6839276914578687, -0.4589125962376505, 1.0786858544430802, -0.03850846950070721, -0.17262729994081963, 0.8836599374866724, 0.6523228784134196, -1.5763921185439898, 1.4765403497258958, 1.3800913541474515}, {-0.6255626952097717, 0.39580353343740904, 0.45443821595386713, 0.2606737658239071, -0.5503051538454201, -0.6711788768194777, -0.043821632838315215, 1.1727290192593647, 0.5436001545944305, -0.3742059352271631, 0.7877352217958256, -2.8485518193831516, 1.1487657003721035, -1.739713778774374, -0.357513370276278, -1.1196698946261439, -1.2951256619350995, 1.1608267873785163, -0.48722767882712936, 0.3465038817307158, -0.04692057887918407, 0.4549817624146074, 0.07682189106025536, -1.2829922241885696, 0.99626681944714, -0.4937565831613125, -1.556581898659751, -0.42811513177472127, 1.5007597906343109, 0.8502217421134929}, {-0.3486521344078592, -0.3492577043184288, -0.3216350512173826, 2.076747983560841, 0.38193545223155334, 0.43048613830965077, 1.0302834540318422, 0.23878915902651351, -0.2590421458207031, -0.19994145222603452, -0.0715995062892904, -0.03723143509817433, 0.7276295436369798, 0.05194588580729943, 0.7326400772155792, -0.08071658010858232, 0.07819100410183503, -1.9982006845321076, 0.9163276747024814, 0.3464884758979927, 0.9980101098596522, -2.8962553781936893, 2.0883747047807275, -0.13958962815517376, 1.1081828167375165, -1.0399059271255309, 0.6127739050625697, -1.0534155631736561, -0.6237689606958051, 1.9140313538667861}, {-0.19068240076334658, 0.21743287317972287, 0.8700677306886759, 0.49568188797260465, 0.15041890514357642, 0.39391901752895475, 2.403415585238275, -0.05761879703358539, 0.213384430911455, 1.050654396007612, 1.1055259612616164, 1.1870303055603801, 0.6387302220291846, -1.1430049127304835, 1.6334315323121376, -1.1648315100811137, 0.26120249125676587, -0.7542758500209781, -0.06413834659299254, 0.3287624103034804, 0.3214354460702119, 0.39263201476781845, 1.613711269058647, 0.45353430151397983, -0.24415663529064868, 0.8735924809730631, 1.1894704889246406, -1.1943438097479975, 0.597400069849858, 0.7011727423108983}, {-0.29756350335999193, 1.3757068133116195, -0.15005558703252672, 0.12557645347154225, -0.19300620645542774, 0.015579047581467534, -1.0962750868952018, -1.4400508825942944, 1.5945050632249722, -0.8469613486908826, -0.9913923494563072, -2.1662554744801503, -0.6389617476895022, -1.322991144479008, 1.642015160136369, 1.0098170893426341, -0.6881503451777238, 2.2524358053443088, 0.9817654869915943, -0.32483138350862245, -2.4828815874446257, 2.3233756619262005, -1.389572466763596, -1.6453987469568918, 1.0225704320096403, 2.439752406339273, 1.3842728185105182, 0.5639091198576118, 0.594754341665286, 0.8534155587803077}, {0.7589285897867651, 0.281191368374863, 0.10420110395187607, -0.06259312789952241, -0.7539644036362375, -0.2806750749880433, -1.6929568141953855, -0.09833962679474989, -0.9885911071509175, -1.103589317215771, 0.17989415115347845, 1.3920022863445993, 0.918316606002313, -1.570500603623177, -0.9895435878069656, 0.9407711879882159, -0.9753893940309071, -0.2246331499970246, 0.5318024982654546, -0.9683444548636353, 0.10575622984805662, -1.345760471169959, -0.6013676439512137, 0.31978193414253697, -1.5711929185620372, 0.440474737960399, -0.019637798926681216, 0.5547401134063639, 0.22391413406466143, 1.3641404299738442}, {0.12651540574425396, -0.4386337795584392, 0.12229750303228377, 0.5432980290363879, 0.04886007032570433, 0.04059169120388238, -0.7019916878067554, -0.6629009175509482, -1.402700908533637, 1.7325458638231328, -1.243863235391285, -0.6929051977959073, -0.7184072655691974, 0.8949243769444413, -0.2949496782920278, 1.2477420726737338, -0.6734906242438685, 0.27899416222380197, -0.8353470532597573, 2.1451491277733883, -1.0218955464810195, 0.23636936217041116, 0.6337768809320985, 0.41379909745149823, -0.1852876588777083, -0.12982069973342616, 0.04044105769008275, -0.14700200162848862, 0.9638791167949097, 2.2105230015913513}, {-0.5574631925084036, -1.3698444497756832, -0.2101301634072266, 2.5797093376543185, -0.8036632589728427, 1.690315845951208, 1.6777008140764407, -0.5535882417079945, 0.44208644728672286, 1.6282305665718861, -0.3791277409874871, -0.2035803601060373, -0.5816809139486437, -1.0147567306928669, -0.6444191283951262, -1.2239406434736138, 0.029858295313783957, -0.8000817587603094, 0.23378563119966247, -1.5558956462036273, 0.3531673468189677, 0.8586204203924823, -1.9937356425714554, 0.37405656984757213, 1.2276689924732922, -1.2096410186912054, 1.6725723868377034, 0.4502229482723237, -0.7050118557584089, -0.05576907765770601}};
        wo = new double[][] {{-1.336648140934512, 5.749917925947088, 0.9101178508020895}, {4.505155621786909, 2.740750867996516, -0.0038374418012811534}, {7.4837335498017, -5.783247862010815, -1.092492989080807}, {-3.528571887205081, -6.043050578055384, -0.730000884550454}, {-7.678958908897746, 9.803019498566892, 1.1471631938065205}, {-10.51919279071069, 9.458216083868834, -0.5306604046874459}, {9.528643053555756, -6.603256517724705, -1.0522847612246184}, {3.4303216808415136, -7.361757052281759, 0.6863814229905137}, {0.8058848078159887, 2.2167640133472624, 0.5507105728921384}, {0.3555326741967358, -0.8577489173082444, 1.5822024113654}, {-11.37314101662335, 10.133680210793273, 1.2023564757450476}, {0.7625114969875006, -0.24547114380386498, 0.53774084190747}, {-8.191744884696272, 7.108452931824941, -0.12539735843792155}, {7.059073155785206, -3.5803247465282073, -1.4473110140463177}, {-4.367599850882035, -5.121349517159602, -0.18469190973509764}, {-0.7395859157968075, -6.595790215731884, -1.206350197057096}, {2.6981922192153958, 2.9622670802782407, -1.0839919511871954}, {-2.202888192524239, -9.893501696354223, -0.2389430189783947}, {2.4056284113442907, -0.7214222554611486, 0.7319670755710206}, {4.123879526669175, 2.461034183580048, 0.30904691567986714}, {-12.046484207370131, 2.9647116679139818, 1.115277148031141}, {-3.4052265502631953, -6.693428999445828, 0.010088848513946305}, {2.8803020238511485, 3.7550495988004085, 0.04991489560927032}, {0.15052958723321272, 0.06909308377736445, -1.080983090666412}, {-7.633685209668879, -1.4363857932519561, -1.348104252184628}, {9.045846289911829, -9.570258845019916, -0.8387256675272223}, {7.525620503254049, 1.91203461086026, 0.3443744404246997}, {-2.8549439912940486, 3.4071463925644845, 1.4469778843536851}, {-1.565053145722244, 3.4974294575425735, -1.162313991891262}, {1.0399046873960764, -0.6056155397368641, -1.4198213585808206}};

        distinctBSSID = new String[]{"b8:d9:4d:67:05:77", "f0:87:56:19:1a:12", "f0:87:56:19:1a:11", "50:e0:39:70:e3:b1", "30:93:bc:b0:01:1c", "50:e0:39:70:e3:b2", "f2:87:56:99:1a:11", "30:93:bc:b0:01:1d", "d8:d7:75:ed:03:9a", "b8:d9:4d:67:05:76", "fa:8f:ca:72:42:64", "a4:08:f5:1f:09:3b", "44:e9:dd:92:3a:e6", "e2:24:c8:36:d8:5d", "ac:3b:77:a3:46:0e", "d8:d7:75:ed:03:9b", "6c:ba:b8:ee:06:d3", "44:d4:54:6d:ef:19", "28:9e:fc:08:d3:9a", "52:e0:39:70:e3:b2", "98:42:65:5c:d9:b6", "86:25:19:77:df:e2", "58:90:43:54:6f:ba", "e2:24:c8:36:d8:65", "e2:24:c8:36:d8:61", "dc:8d:8a:b2:b8:6a", "f4:6b:ef:d6:86:14", "00:1e:80:78:f3:fc", "30:93:bc:af:88:e9", "d8:d7:75:eb:d5:e4", "30:93:bc:af:88:e8", "00:1e:80:78:f3:f8", "30:93:bc:b9:b9:12", "24:7f:20:01:20:56", "f4:17:b8:42:b3:49", "3c:52:82:fc:1d:cf", "44:ad:b1:2c:70:7c", "4c:19:5d:cd:58:ff", "a4:08:f5:1f:09:3c", "fa:8f:ca:63:8f:92", "3c:7c:3f:e6:1f:e8", "ac:3b:77:a3:46:0f"};
        //bh = new double[][]{{-0.88224596, 1.60907961, -1.4872779, -2.22699522, 0.41175292, -0.61116586, -1.11142807, 0.66521511, 0.22505724, -0.6036357, -1.30383164, 1.03515332, 0.63979647, -0.11566071, 1.82557789}};
        // wh = new double[][]{{ 4.62350572e+00,  2.21917578e-01,  2.60888436e+00,  3.20474929e+00,

    }

    public static double[] getPredictionNN(List<ScanResult> scanResult) {
        double[] newDataPoint = getNewDataPoint(scanResult);

        double[] predictedLocation = getLocation(newDataPoint);

        String location = "test";
        return predictedLocation;
    }



    private static double[] getNewDataPoint(List<ScanResult> scanResults) {
        double[] newDataPoint = new double[distinctBSSID.length];
        for(ScanResult result : scanResults) {
            for (int i = 0; i < distinctBSSID.length; i++) {
                if(distinctBSSID[i].equals(result.BSSID)) {
                    newDataPoint[i] = result.level;
                }
            }
        }
        return newDataPoint;
    }

    private static double[] getLocation(double[] dataPoint) {
        /*
        System.out.println("wh length row: " + wh.length);
        System.out.println("wh length column: " + wh[0].length);
        for (int i = 0; i < wh.length; i++) {
            for (int j = 0; j < wh[0].length; j++) {
                System.out.println("[" + i + "],[" + j + "]: " + wh[i][j]);
            }
        }
        */
        //double[] zh = new double[wh[0].length];
        //for (int i = 0; i < dataPoint.length; i++) {
        //    for (int j = 0; j < wh[0].length; j++) {
        //        zh[j] = 0;
        //        for (int k = 0; k < dataPoint.length; k++) {
        //            //System.out.println("i: " + i);
        //            //System.out.println("j: " + j);
        //            //System.out.println("k: " + k);
        //            //System.out.println("zh length: " + zh.length);
        //            //System.out.println("wh length row: " + wh.length);
        //            //System.out.println("wh length column: " + wh[0].length);
        //            zh[j] += dataPoint[k] * wh[k][j];
        //        }
        //        zh[j] += bh[j];
        //    }
        //}
        //for (int i = 0; i < zh.length; i++) {
        //    System.out.println("z[" + i + "]" + zh[i]);
        //}

        double[] zh = multiply(dataPoint, wh);
        for (int i = 0; i < zh.length; i++) {
            zh[i] += bh[i];
        }
        double[] ah = sigmoid(zh);

        double[] zo = multiply(ah, wo);
        for (int i = 0; i < zo.length; i++) {
            zo[i] += bo[i];
        }

        double[] ao = softmax(zo);

        return ao;
    }

    private static double[] multiply(double[] a, double[][] b) {
        double[] c = new double[b[0].length];
        for (int i = 0; i < a.length; i++) {
            for (int j = 0; j < b[0].length; j++) {
                c[j] = 0;
                for (int k = 0; k < a.length; k++) {
                    //System.out.println("i: " + i);
                    //System.out.println("j: " + j);
                    //System.out.println("k: " + k);
                    //System.out.println("zh length: " + zh.length);
                    //System.out.println("wh length row: " + wh.length);
                    //System.out.println("wh length column: " + wh[0].length);
                    c[j] += a[k] * b[k][j];
                }
            }
        }
        return c;
    }


    private static double[] sigmoid(double[] matrice) {
        double[] temp = new double[]{};
        for (int i = 0; i < matrice.length; i++) {
            matrice[i] = 1 / (1 + Math.exp(-matrice[i]));
        }
        return matrice;
    }

    private static double[] softmax(double[] matrice) {
        for (int i = 0; i < matrice.length; i++) {
            matrice[i] = Math.exp(matrice[i]);
            System.out.println("matrice i" + matrice[i]);
        }
        double sum = Arrays.stream(matrice).sum();

        for (int i = 0; i < matrice.length; i++) {
            matrice[i] = matrice[i] / sum;
        }
        return matrice;
    }
}

